FROM ubuntu:18.04

COPY fresh-sqlite/ /fresh-sqlite
COPY openssl-src/ /openssl-src

RUN apt update
RUN apt install -y make
RUN apt install -y vim
RUN apt install -y gcc
RUN apt install -y libssl-dev

WORKDIR /openssl-src
RUN ./config
RUN make clean
RUN make || true

WORKDIR /fresh-sqlite/merkle-tree/src
RUN make all
WORKDIR /fresh-sqlite
RUN make clean || true
RUN OPENSSL_SRC=/openssl-src make hello-query

# docker build -f benchmark/scone-stuff/pure-host -t pure-host .
